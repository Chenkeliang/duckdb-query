---
globs: **/*test*.py,**/*test*.js,**/*spec*.js
description: 测试约束和规范
---

# 测试约束规范

## 🎯 测试原则

### 1. 测试覆盖约束
- **功能测试**: 新增功能必须进行完整测试
- **回归测试**: 修改后必须验证现有功能不受影响
- **边界测试**: 测试极端情况和边界条件
- **性能测试**: 大数据量场景下的性能验证
- **用户测试**: 从用户角度验证功能可用性

### 2. 测试质量约束
- **测试独立性**: 每个测试用例要独立运行
- **数据隔离**: 测试数据要隔离，不影响其他测试
- **断言明确**: 测试断言要明确具体
- **错误场景**: 要测试各种错误和异常场景
- **测试文档**: 复杂测试要添加说明文档

### 3. 自动化测试约束
- **单元测试**: 核心业务逻辑要有单元测试
- **集成测试**: 关键流程要有集成测试
- **端到端测试**: 主要用户流程要有E2E测试
- **持续集成**: 测试要集成到CI/CD流程
- **测试报告**: 生成详细的测试报告

### 4. 测试环境约束
- **环境一致性**: 测试环境要与生产环境一致
- **数据准备**: 测试数据要真实且完整
- **环境隔离**: 不同测试环境要相互隔离
- **资源管理**: 合理管理测试资源
- **清理机制**: 测试后要及时清理数据

## 🚫 测试禁止行为
- **禁止跳过测试**: 不能因为时间紧就跳过测试
- **禁止硬编码**: 测试数据不能硬编码
- **禁止依赖外部**: 测试不能依赖外部服务
- **禁止忽略失败**: 不能忽略测试失败
- **禁止重复测试**: 避免重复的测试用例

## ✅ 测试流程
1. **测试计划** → 2. **测试用例设计** → 3. **测试执行** → 4. **缺陷跟踪** → 5. **测试报告** → 6. **回归验证**