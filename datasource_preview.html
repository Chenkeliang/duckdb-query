<!DOCTYPE html>
<html lang="zh-CN" class="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Full Layout Preview</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");
        @import url("https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&display=swap");

        /* =========================================
       PROPOSED TOKENS (frontend/src/new/styles/tokens.css)
       ========================================= */
        :root {
            /* Light Mode */
            --dq-background: 0 0% 100%;
            --dq-surface: 0 0% 100%;
            --dq-foreground: 240 10% 3.9%;
            --dq-muted: 240 5.9% 90%;
            --dq-muted-fg: 240 3.8% 46.1%;
            --dq-border: 240 5.9% 90%;
            --dq-primary: 221.2 83.2% 53.3%;
            --dq-primary-fg: 0 0% 100%;
            --dq-input-bg: 0 0% 100%;

            --dq-nav-active-bg: 214 95% 93%;
            --dq-nav-active-border: 214 80% 88%;
            --dq-nav-active-fg: 221.2 83.2% 53.3%;

            --dq-radius-card: 0.75rem;
            --dq-radius-input: 0.375rem;
        }

        .dark {
            /* Dark Mode */
            --dq-background: 240 10% 3.9%;
            --dq-surface: 240 10% 3.9%;
            --dq-foreground: 0 0% 98%;
            --dq-muted: 240 3.7% 15.9%;
            --dq-muted-fg: 240 5% 64.9%;
            --dq-border: 240 3.7% 15.9%;
            --dq-primary: 24.6 95% 53.1%;
            --dq-primary-fg: 0 0% 100%;
            --dq-input-bg: 240 10% 3.9%;

            --dq-nav-active-bg: 24.6 95% 53.1% / 0.1;
            --dq-nav-active-border: 24.6 95% 53.1% / 0.2;
            --dq-nav-active-fg: 24.6 95% 53.1%;
        }

        body {
            font-family: "Inter", sans-serif;
            background-color: hsl(var(--dq-background));
            color: hsl(var(--dq-foreground));
        }

        /* Tailwind Config Simulation */
        .bg-background {
            background-color: hsl(var(--dq-background));
        }

        .bg-surface {
            background-color: hsl(var(--dq-surface));
        }

        .bg-muted {
            background-color: hsl(var(--dq-muted));
        }

        .bg-primary {
            background-color: hsl(var(--dq-primary));
        }

        .text-foreground {
            color: hsl(var(--dq-foreground));
        }

        .text-muted-fg {
            color: hsl(var(--dq-muted-fg));
        }

        .text-primary-fg {
            color: hsl(var(--dq-primary-fg));
        }

        .border-border {
            border-color: hsl(var(--dq-border));
        }

        .border-primary {
            border-color: hsl(var(--dq-primary));
        }

        /* Utilities */
        .duck-input {
            width: 100%;
            background-color: hsl(var(--dq-input-bg));
            border: 1px solid hsl(var(--dq-border));
            border-radius: var(--dq-radius-input);
            padding: 0.5rem 0.75rem;
            font-size: 0.875rem;
            color: hsl(var(--dq-foreground));
            outline: none;
            transition: all 0.2s;
        }

        .duck-input:focus {
            border-color: hsl(var(--dq-primary));
            box-shadow: 0 0 0 1px hsl(var(--dq-primary));
        }

        .nav-active {
            background-color: hsl(var(--dq-nav-active-bg));
            color: hsl(var(--dq-nav-active-fg));
            border-color: hsl(var(--dq-nav-active-border));
        }
    </style>
</head>

<body class="bg-background h-screen w-full overflow-hidden flex">

    <!-- Full Page Container -->
    <div class="w-full h-full bg-background flex text-foreground">

        <!-- ============================================================================== -->
        <!-- 1. LEFT SIDEBAR (GLOBAL NAV) -->
        <!-- ============================================================================== -->
        <aside class="w-64 bg-surface border-r border-border flex flex-col shrink-0 z-50">
            <!-- Logo -->
            <div class="h-14 flex items-center gap-3 px-5 border-b border-border">
                <div
                    class="w-8 h-8 bg-primary rounded-lg flex items-center justify-center text-white font-bold shadow-lg shadow-orange-900/20">
                    D
                </div>
                <div>
                    <div class="font-bold text-sm tracking-wide text-foreground">
                        DuckQuery
                    </div>
                    <div class="text-[10px] text-muted-fg font-mono">v2.0.1 PRO</div>
                </div>
            </div>

            <!-- Nav Links -->
            <nav class="flex-1 p-3 space-y-1">
                <button
                    class="w-full flex items-center gap-3 px-3 py-2.5 text-sm font-medium rounded-lg nav-active transition-all border border-transparent">
                    <i data-lucide="database" class="w-4 h-4"></i>
                    数据源 (Data Sources)
                </button>
                <button
                    class="w-full flex items-center gap-3 px-3 py-2.5 text-sm font-medium rounded-lg text-muted-fg hover:text-foreground hover:bg-muted transition-all border border-transparent">
                    <i data-lucide="layout-grid" class="w-4 h-4"></i>
                    统一查询 (Unified Query)
                </button>
                <button
                    class="w-full flex items-center gap-3 px-3 py-2.5 text-sm font-medium rounded-lg text-muted-fg hover:text-foreground hover:bg-muted transition-all border border-transparent">
                    <i data-lucide="table-properties" class="w-4 h-4"></i>
                    数据表管理
                </button>
                <button
                    class="w-full flex items-center gap-3 px-3 py-2.5 text-sm font-medium rounded-lg text-muted-fg hover:text-foreground hover:bg-muted transition-all border border-transparent">
                    <i data-lucide="settings" class="w-4 h-4"></i>
                    系统设置
                </button>
            </nav>

            <!-- User Profile -->
            <div class="p-4 border-t border-border">
                <div class="flex items-center gap-3 cursor-pointer hover:opacity-80 transition-opacity">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix"
                        class="w-8 h-8 rounded-full bg-muted border border-border" />
                    <div class="text-xs">
                        <div class="text-foreground font-medium">Admin User</div>
                        <div class="text-muted-fg">meepo@duckquery.com</div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- ============================================================================== -->
        <!-- 2. MAIN CONTENT WRAPPER -->
        <!-- ============================================================================== -->
        <div class="flex-1 flex flex-col min-w-0 bg-background relative overflow-hidden">

            <!-- Header -->
            <header class="h-14 border-b border-border bg-surface flex items-center justify-between px-4 shrink-0">
                <div class="flex items-center gap-6">
                    <h1 class="text-lg font-semibold text-foreground tracking-tight">数据源管理</h1>
                    <!-- Tabs -->
                    <div class="flex bg-muted p-1 rounded-lg h-9 gap-1">
                        <button onclick="switchTab('db')" id="tab-db"
                            class="px-3 text-xs font-medium rounded-[6px] text-muted-fg hover:text-foreground flex items-center gap-2 transition-all">
                            <i data-lucide="server" class="w-3.5 h-3.5"></i> 数据库管理
                        </button>
                        <button onclick="switchTab('file')" id="tab-file"
                            class="px-3 text-xs font-medium rounded-[6px] bg-surface text-foreground shadow-sm flex items-center gap-2 transition-all">
                            <i data-lucide="upload" class="w-3.5 h-3.5"></i> 文件上传
                        </button>
                        <button onclick="switchTab('paste')" id="tab-paste"
                            class="px-3 text-xs font-medium rounded-[6px] text-muted-fg hover:text-foreground flex items-center gap-2 transition-all">
                            <i data-lucide="clipboard-edit" class="w-3.5 h-3.5"></i> 数据粘贴板
                        </button>
                    </div>
                </div>
                <div class="flex items-center gap-2">
                    <button onclick="document.documentElement.classList.toggle('dark')"
                        class="p-2 rounded-md hover:bg-muted text-muted-fg">
                        <i data-lucide="sun-moon" class="w-4 h-4"></i>
                    </button>
                </div>
            </header>

            <!-- Content Area -->
            <div class="flex-1 overflow-auto p-6 bg-background">

                <!-- VIEW: FILE UPLOAD -->
                <div id="view-file" class="grid grid-cols-1 xl:grid-cols-2 gap-6">
                    <!-- NewDataUploadCard -->
                    <div class="bg-surface border border-border rounded-xl p-6 space-y-5 shadow-sm">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm text-muted-fg">本地文件上传</p>
                                <h3 class="text-lg font-semibold text-foreground">智能文件上传</h3>
                            </div>
                            <span class="text-xs text-muted-fg">CSV / JSON / Parquet</span>
                        </div>

                        <div
                            class="border border-dashed border-border rounded-xl bg-surface p-10 flex flex-col items-center justify-center text-center gap-2 cursor-pointer hover:border-primary transition-colors">
                            <i data-lucide="upload-cloud" class="w-8 h-8 text-muted-fg"></i>
                            <p class="text-foreground font-medium">拖拽或点击上传</p>
                            <p class="text-xs text-muted-fg">最大 500MB · 自动识别分隔符</p>
                        </div>

                        <div class="grid grid-cols-2 gap-4">
                            <div class="space-y-2">
                                <label class="text-xs text-muted-fg">表别名 (可选)</label>
                                <input type="text" class="duck-input" placeholder="sales_2024" />
                            </div>
                            <div class="space-y-2">
                                <label class="text-xs text-muted-fg">上传方式</label>
                                <select class="duck-input">
                                    <option>自动选择</option>
                                    <option>分片上传</option>
                                </select>
                            </div>
                        </div>

                        <div class="flex gap-3">
                            <button
                                class="px-4 py-2 rounded-md bg-primary text-primary-fg text-sm font-medium hover:opacity-90 shadow-sm">开始上传</button>
                            <button
                                class="px-4 py-2 rounded-md text-sm text-muted-fg hover:text-foreground hover:bg-muted">清空表单</button>
                        </div>
                    </div>

                    <!-- Right Column (URL & Server) -->
                    <div class="flex flex-col gap-6">
                        <div class="bg-surface border border-border rounded-xl p-6 space-y-4 shadow-sm">
                            <div>
                                <p class="text-sm text-muted-fg">远程文件导入</p>
                                <h3 class="text-lg font-semibold text-foreground">URL 拉取</h3>
                            </div>
                            <div class="space-y-2">
                                <label class="text-xs text-muted-fg">文件 URL</label>
                                <input type="text" value="https://example.com/export.csv" class="duck-input" />
                            </div>
                            <div class="flex gap-3">
                                <button class="px-4 py-2 rounded-md bg-primary text-primary-fg text-sm font-medium">解析
                                    URL</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- VIEW: DATABASE -->
                <div id="view-db" class="hidden grid grid-cols-1 xl:grid-cols-3 gap-8">
                    <!-- NewDatabaseForm -->
                    <div class="xl:col-span-2 bg-surface border border-border rounded-xl p-8 space-y-6 shadow-sm">
                        <div class="border-b border-border flex gap-6 text-sm font-medium">
                            <button class="pb-2 text-foreground border-b-2 border-foreground flex items-center gap-2">
                                <span class="w-2 h-2 rounded-full bg-green-400"></span> MySQL
                            </button>
                            <button
                                class="pb-2 text-muted-fg border-b-2 border-transparent hover:text-foreground flex items-center gap-2">PostgreSQL</button>
                            <button
                                class="pb-2 text-muted-fg border-b-2 border-transparent hover:text-foreground flex items-center gap-2">DuckDB
                                远程</button>
                        </div>

                        <div class="grid grid-cols-2 gap-5">
                            <div class="space-y-2">
                                <label class="text-xs text-muted-fg">主机地址</label>
                                <input type="text" value="localhost" class="duck-input" />
                            </div>
                            <div class="space-y-2">
                                <label class="text-xs text-muted-fg">端口</label>
                                <input type="text" value="3306" class="duck-input" />
                            </div>
                            <div class="space-y-2">
                                <label class="text-xs text-muted-fg">用户名</label>
                                <input type="text" value="root" class="duck-input" />
                            </div>
                            <div class="space-y-2">
                                <label class="text-xs text-muted-fg">密码</label>
                                <input type="password" value="••••••" class="duck-input" />
                            </div>
                        </div>

                        <div class="flex gap-4">
                            <button
                                class="px-4 py-2 rounded-md border border-border text-foreground hover:bg-muted text-sm font-medium">测试连接</button>
                            <button
                                class="px-4 py-2 rounded-md bg-primary text-primary-fg text-sm font-medium">连接数据库</button>
                        </div>
                    </div>

                    <!-- Saved Connections -->
                    <div class="bg-surface border border-border rounded-xl p-6 space-y-4 shadow-sm">
                        <div class="flex items-center justify-between">
                            <h3 class="text-lg font-semibold text-foreground">快速切换</h3>
                            <button class="text-xs text-muted-fg hover:text-foreground">刷新</button>
                        </div>
                        <div class="space-y-3">
                            <div
                                class="flex items-center justify-between p-3 rounded-lg bg-muted/30 border border-border hover:border-primary/50 cursor-pointer transition-colors">
                                <div class="flex items-center gap-3">
                                    <div
                                        class="w-8 h-8 rounded bg-blue-500/10 flex items-center justify-center text-blue-500">
                                        <i data-lucide="database" class="w-4 h-4"></i>
                                    </div>
                                    <div>
                                        <div class="text-sm font-medium text-foreground">Production DB</div>
                                        <div class="text-xs text-muted-fg">MySQL · 10.0.0.5</div>
                                    </div>
                                </div>
                                <span
                                    class="px-2 py-0.5 rounded text-[10px] font-medium bg-green-500/10 text-green-500">ACTIVE</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- VIEW: PASTE BOARD -->
                <div id="view-paste" class="hidden grid grid-cols-1 gap-6">
                    <div class="bg-surface border border-border rounded-xl p-6 space-y-5 shadow-sm">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm text-muted-fg">文本导入</p>
                                <h3 class="text-lg font-semibold text-foreground">数据粘贴板</h3>
                            </div>
                            <span class="text-xs text-muted-fg">支持 CSV / JSON 格式</span>
                        </div>

                        <div class="space-y-4">
                            <textarea
                                class="w-full h-64 bg-background border border-border rounded-lg p-4 font-mono text-sm text-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary resize-none"
                                placeholder="在此粘贴 CSV 或 JSON 数据...&#10;Example:&#10;id,name,age&#10;1,Alice,30&#10;2,Bob,25"></textarea>

                            <div class="flex items-center gap-4">
                                <div class="flex-1 space-y-2">
                                    <label class="text-xs text-muted-fg">表别名</label>
                                    <input type="text" class="duck-input" placeholder="pasted_data" />
                                </div>
                                <div class="flex-1 space-y-2">
                                    <label class="text-xs text-muted-fg">格式</label>
                                    <select class="duck-input">
                                        <option>自动检测</option>
                                        <option>CSV</option>
                                        <option>JSON</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="flex gap-3">
                            <button
                                class="px-4 py-2 rounded-md bg-primary text-primary-fg text-sm font-medium hover:opacity-90 shadow-sm">
                                <i data-lucide="play" class="w-4 h-4 inline-block mr-2"></i>解析并导入
                            </button>
                            <button
                                class="px-4 py-2 rounded-md text-sm text-muted-fg hover:text-foreground hover:bg-muted">清空</button>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <script>
        lucide.createIcons();

        function switchTab(tab) {
            // Reset Tabs
            document.querySelectorAll('[id^="tab-"]').forEach(el => {
                el.className = "px-3 text-xs font-medium rounded-[6px] text-muted-fg hover:text-foreground flex items-center gap-2 transition-all";
            });
            // Activate Tab
            const activeBtn = document.getElementById('tab-' + tab);
            activeBtn.className = "px-3 text-xs font-medium rounded-[6px] bg-surface text-foreground shadow-sm flex items-center gap-2 transition-all";

            // Show View
            document.getElementById('view-file').classList.add('hidden');
            document.getElementById('view-db').classList.add('hidden');
            document.getElementById('view-paste').classList.add('hidden');
            document.getElementById('view-' + tab).classList.remove('hidden');
        }
    </script>
</body>

</html>