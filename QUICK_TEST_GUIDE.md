# 快速测试指南 - 5 分钟验证

## 🚀 快速验证步骤

### 1️⃣ 搜索特殊字符（30 秒）
```
1. 打开 DataSource Panel
2. 在搜索框输入: (
3. 验证: 不崩溃 ✅
4. 输入: [
5. 验证: 不崩溃 ✅
6. 输入: *
7. 验证: 不崩溃 ✅
```

### 2️⃣ 右键菜单（30 秒）
```
1. 右键点击任意数据库连接
2. 验证: 菜单弹出 ✅
3. 点击"刷新此连接"
4. 验证: 显示成功提示 ✅
```

### 3️⃣ 刷新按钮状态（30 秒）
```
1. 点击底部"刷新"按钮
2. 验证: 按钮禁用 + 图标旋转 ✅
3. 等待加载完成
4. 验证: 按钮恢复 + 图标停止 ✅
```

### 4️⃣ 删除流程（1 分钟）
```
1. 右键点击一个 DuckDB 表
2. 选择"删除表"
3. 确认删除
4. 验证: 显示"表已删除"提示 ✅
5. 验证: 表从列表消失 ✅
```

### 5️⃣ 颜色检查（30 秒）
```
1. 查看不同数据库图标颜色
2. PostgreSQL: 蓝色 ✅
3. MySQL: 橙色 ✅
4. SQLite: 灰色 ✅
5. 切换深色模式
6. 验证: 颜色仍清晰 ✅
```

---

## ✅ 全部通过标准

如果以上 5 个测试都通过，说明所有 6 个问题都已正确修复！

---

## 🐛 如果发现问题

### 问题 1: 搜索输入特殊字符崩溃
- **检查文件**: `TableItem.tsx`
- **检查代码**: 是否有 `query.replace(/[.*+?^${}()|[\]\\]/g, '\\$&')`

### 问题 2: 右键菜单不弹出
- **检查文件**: `TreeNode.tsx`
- **检查代码**: `handleContextMenu` 是否只在有 `onContextMenu` 时阻断事件

### 问题 3: 刷新按钮不转圈
- **检查文件**: `useDatabaseConnections.ts`
- **检查代码**: 是否返回 `isFetching: query.isFetching`

### 问题 4: 删除失败仍提示成功
- **检查文件**: `index.tsx`
- **检查代码**: `handleDelete` 是否有 `try-catch` 和 `await onDelete`

### 问题 5: 颜色不对
- **检查文件**: `DatabaseConnectionNode.tsx`
- **检查代码**: 是否使用 `text-primary`、`text-warning` 等语义化类名

---

## 📸 测试截图建议

建议截图记录以下场景：
1. 搜索框输入 `(` 后的正常显示
2. 右键菜单弹出的截图
3. 刷新按钮旋转的截图
4. 删除成功的 toast 提示
5. 深色模式下的图标颜色

---

**测试时间**: 约 5 分钟  
**难度**: ⭐ 简单  
**推荐**: 每次修改后都快速验证一遍
