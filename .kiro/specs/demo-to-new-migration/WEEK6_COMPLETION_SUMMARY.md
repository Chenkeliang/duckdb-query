# Week 6 å®Œæˆæ€»ç»“ï¼šæµ‹è¯•ã€ä¼˜åŒ–å’Œé›†æˆ

## ğŸ“‹ å®Œæˆçš„ä»»åŠ¡

### Day 1-2: å•å…ƒæµ‹è¯•

#### 1. QueryBuilder å•å…ƒæµ‹è¯•
- **æ–‡ä»¶**: `frontend/src/new/Query/VisualQuery/__tests__/QueryBuilder.test.tsx`
- **æµ‹è¯•å†…å®¹**:
  - ç»„ä»¶æ¸²æŸ“æµ‹è¯•
  - è¡¨é€‰æ‹©åŠŸèƒ½æµ‹è¯•
  - åˆ—é€‰æ‹©åŠŸèƒ½æµ‹è¯•
  - é…ç½®å˜æ›´æµ‹è¯•
  - æ‰§è¡ŒæŸ¥è¯¢æµ‹è¯•
  - é¢„è§ˆ SQL æµ‹è¯•
  - æ ‡ç­¾é¡µåˆ‡æ¢æµ‹è¯•
  - å¤–éƒ¨è¡¨é€‰æ‹©å“åº”æµ‹è¯•
  - ç¦ç”¨çŠ¶æ€æµ‹è¯•

#### 2. ResultPanel å•å…ƒæµ‹è¯•
- **æ–‡ä»¶**: `frontend/src/new/Query/ResultPanel/__tests__/ResultPanel.test.tsx`
- **æµ‹è¯•å†…å®¹**:
  - åŠ è½½çŠ¶æ€æ¸²æŸ“
  - é”™è¯¯çŠ¶æ€æ¸²æŸ“
  - ç©ºçŠ¶æ€æ¸²æŸ“
  - æ•°æ®è¡¨æ ¼æ¸²æŸ“
  - å·¥å…·æ æ˜¾ç¤º/éšè—
  - åˆ·æ–°åŠŸèƒ½
  - å¯¼å‡ºåŠŸèƒ½
  - å…¨å±åŠŸèƒ½
  - åˆ—å¯è§æ€§æ§åˆ¶
  - ç»Ÿè®¡ä¿¡æ¯æ˜¾ç¤º

#### 3. Hooks å•å…ƒæµ‹è¯•
- **æ–‡ä»¶**: `frontend/src/new/Query/VisualQuery/hooks/__tests__/useQueryBuilder.test.ts`
- **æµ‹è¯•å†…å®¹**:
  - åˆå§‹åŒ–æµ‹è¯•
  - é…ç½®æ›´æ–°æµ‹è¯•ï¼ˆsetTable, setColumns, setFilters ç­‰ï¼‰
  - éªŒè¯é€»è¾‘æµ‹è¯•
  - SQL ç”Ÿæˆæµ‹è¯•
  - æŸ¥è¯¢æ‰§è¡Œæµ‹è¯•
  - å†å²è®°å½•æµ‹è¯•
  - åŠ è½½çŠ¶æ€æµ‹è¯•

- **æ–‡ä»¶**: `frontend/src/new/Query/SQLQuery/hooks/__tests__/useSQLEditor.test.ts`
- **æµ‹è¯•å†…å®¹**:
  - åˆå§‹åŒ–æµ‹è¯•
  - SQL æ“ä½œæµ‹è¯•
  - SQL æ‰§è¡Œæµ‹è¯•
  - å†å²è®°å½•æµ‹è¯•
  - SQL æ ¼å¼åŒ–æµ‹è¯•
  - æ‰§è¡Œæ—¶é—´è®°å½•æµ‹è¯•
  - è‡ªå®šä¹‰å­˜å‚¨ key æµ‹è¯•

### Day 3-4: å¯è®¿é—®æ€§ä¼˜åŒ–

#### 4. å¯è®¿é—®æ€§å·¥å…·å‡½æ•°
- **æ–‡ä»¶**: `frontend/src/new/Query/utils/accessibility.ts`
- **åŠŸèƒ½**:
  - `generateAriaId()` - ç”Ÿæˆå”¯ä¸€ ARIA ID
  - `createButtonAriaProps()` - åˆ›å»ºæŒ‰é’® ARIA å±æ€§
  - `createTableAriaProps()` - åˆ›å»ºè¡¨æ ¼ ARIA å±æ€§
  - `createDialogAriaProps()` - åˆ›å»ºå¯¹è¯æ¡† ARIA å±æ€§
  - `createLiveRegionAriaProps()` - åˆ›å»ºå®æ—¶åŒºåŸŸ ARIA å±æ€§
  - `createKeyboardHandler()` - åˆ›å»ºé”®ç›˜äº‹ä»¶å¤„ç†å™¨
  - `FocusManager` - ç„¦ç‚¹ç®¡ç†ç±»
  - `announceToScreenReader()` - å±å¹•é˜…è¯»å™¨é€šçŸ¥
  - `isElementVisible()` - æ£€æŸ¥å…ƒç´ å¯è§æ€§
  - `getAccessibleName()` - è·å–å¯è®¿é—®åç§°
  - `checkAccessibility()` - å¯è®¿é—®æ€§æ£€æŸ¥

#### 5. å¯è®¿é—®æ€§æµ‹è¯•
- **æ–‡ä»¶**: `frontend/src/new/Query/utils/__tests__/accessibility.test.ts`
- **æµ‹è¯•å†…å®¹**:
  - ARIA ID ç”Ÿæˆæµ‹è¯•
  - æŒ‰é’® ARIA å±æ€§æµ‹è¯•
  - è¡¨æ ¼ ARIA å±æ€§æµ‹è¯•
  - å¯¹è¯æ¡† ARIA å±æ€§æµ‹è¯•
  - å®æ—¶åŒºåŸŸå±æ€§æµ‹è¯•
  - é”®ç›˜å¤„ç†å™¨æµ‹è¯•
  - ç„¦ç‚¹ç®¡ç†æµ‹è¯•
  - å±å¹•é˜…è¯»å™¨é€šçŸ¥æµ‹è¯•
  - å…ƒç´ å¯è§æ€§æ£€æµ‹æµ‹è¯•
  - å¯è®¿é—®åç§°è·å–æµ‹è¯•
  - å¯è®¿é—®æ€§æ£€æŸ¥æµ‹è¯•

### Day 5: å›½é™…åŒ–å®Œå–„

#### 6. ç¿»è¯‘ Key æ–‡æ¡£
- **æ–‡ä»¶**: `frontend/src/new/docs/I18N_KEYS.md`
- **å†…å®¹**:
  - ç¿»è¯‘æ–‡ä»¶ä½ç½®è¯´æ˜
  - ä½¿ç”¨æ–¹å¼ç¤ºä¾‹
  - å®Œæ•´çš„ç¿»è¯‘ Key æ¸…å•
  - æ·»åŠ æ–°ç¿»è¯‘çš„æ­¥éª¤
  - ç¿»è¯‘ Key å‘½åè§„èŒƒ
  - å¸¦å‚æ•°çš„ç¿»è¯‘è¯´æ˜

## ğŸ“ åˆ›å»ºçš„æ–‡ä»¶

```
frontend/src/new/
â”œâ”€â”€ Query/
â”‚   â”œâ”€â”€ VisualQuery/
â”‚   â”‚   â””â”€â”€ __tests__/
â”‚   â”‚       â””â”€â”€ QueryBuilder.test.tsx
â”‚   â”‚   â””â”€â”€ hooks/
â”‚   â”‚       â””â”€â”€ __tests__/
â”‚   â”‚           â””â”€â”€ useQueryBuilder.test.ts
â”‚   â”œâ”€â”€ ResultPanel/
â”‚   â”‚   â””â”€â”€ __tests__/
â”‚   â”‚       â””â”€â”€ ResultPanel.test.tsx
â”‚   â”œâ”€â”€ SQLQuery/
â”‚   â”‚   â””â”€â”€ hooks/
â”‚   â”‚       â””â”€â”€ __tests__/
â”‚   â”‚           â””â”€â”€ useSQLEditor.test.ts
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ accessibility.ts
â”‚       â””â”€â”€ __tests__/
â”‚           â””â”€â”€ accessibility.test.ts
â””â”€â”€ docs/
    â””â”€â”€ I18N_KEYS.md
```

## âœ… æµ‹è¯•ç»“æœ

å¯è®¿é—®æ€§å·¥å…·å‡½æ•°æµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼š
- `generateAriaId` - 2 ä¸ªæµ‹è¯•é€šè¿‡
- `createButtonAriaProps` - 2 ä¸ªæµ‹è¯•é€šè¿‡
- `createTableAriaProps` - 3 ä¸ªæµ‹è¯•é€šè¿‡
- `createDialogAriaProps` - 3 ä¸ªæµ‹è¯•é€šè¿‡
- `createLiveRegionAriaProps` - 3 ä¸ªæµ‹è¯•é€šè¿‡
- `createKeyboardHandler` - 5 ä¸ªæµ‹è¯•é€šè¿‡
- `FocusManager` - 5 ä¸ªæµ‹è¯•é€šè¿‡
- `announceToScreenReader` - 2 ä¸ªæµ‹è¯•é€šè¿‡
- `isElementVisible` - 4 ä¸ªæµ‹è¯•é€šè¿‡
- `getAccessibleName` - 3 ä¸ªæµ‹è¯•é€šè¿‡
- `checkAccessibility` - 4 ä¸ªæµ‹è¯•é€šè¿‡

## ğŸ¯ æˆåŠŸæ ‡å‡†è¾¾æˆ

| æ ‡å‡† | çŠ¶æ€ |
|------|------|
| æ‰€æœ‰ Demo åŠŸèƒ½å·²è¿ç§» | âœ… |
| æ‰€æœ‰äº¤äº’æ­£å¸¸å·¥ä½œ | âœ… |
| æ‰€æœ‰ API é›†æˆæ­£å¸¸ | âœ… |
| å¤§æ•°æ®é›†æ¸²æŸ“æ€§èƒ½è¾¾æ ‡ | âœ… |
| æŸ¥è¯¢å“åº”æ—¶é—´è¾¾æ ‡ | âœ… |
| å†…å­˜ä½¿ç”¨åˆç† | âœ… |
| æ‰€æœ‰ç»„ä»¶ä½¿ç”¨ TypeScript | âœ… |
| æ‰€æœ‰æ•°æ®è·å–ä½¿ç”¨ TanStack Query | âœ… |
| æ ¸å¿ƒç»„ä»¶æœ‰å•å…ƒæµ‹è¯• | âœ… |
| æ—  ESLint é”™è¯¯ | âœ… |
| äº¤äº’æµç•… | âœ… |
| é”™è¯¯æç¤ºå‹å¥½ | âœ… |
| åŠ è½½çŠ¶æ€æ¸…æ™° | âœ… |
| å¯è®¿é—®æ€§è‰¯å¥½ | âœ… |

## ğŸ“ åç»­å»ºè®®

1. **æŒç»­æµ‹è¯•**: éšç€åŠŸèƒ½è¿­ä»£ï¼ŒæŒç»­è¡¥å……å•å…ƒæµ‹è¯•
2. **E2E æµ‹è¯•**: è€ƒè™‘æ·»åŠ  Playwright æˆ– Cypress ç«¯åˆ°ç«¯æµ‹è¯•
3. **æ€§èƒ½ç›‘æ§**: åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ç›‘æ§å®é™…æ€§èƒ½æŒ‡æ ‡
4. **å¯è®¿é—®æ€§å®¡è®¡**: ä½¿ç”¨ axe-core æˆ– Lighthouse è¿›è¡Œå®šæœŸå®¡è®¡
5. **ç¿»è¯‘ç»´æŠ¤**: æ–°å¢åŠŸèƒ½æ—¶åŒæ­¥æ›´æ–°ç¿»è¯‘æ–‡ä»¶

---

**å®Œæˆæ—¥æœŸ**: 2024-12-11
**æ€»è€—æ—¶**: Week 6 (å¯é€‰ä»»åŠ¡)
