# 新 UI 数据源管理 - 快速测试清单

## 🚀 快速开始

```bash
# 1. 启动后端
cd api && python -m uvicorn main:app --reload

# 2. 启动前端（新终端）
cd frontend && npm run dev

# 3. 访问
http://localhost:5173
```

---

## ✅ 核心功能测试（5分钟）

### 1. 文件上传 Toast 测试
- [ ] 上传 CSV 文件
- [ ] 看到绿色成功 Toast ✅
- [ ] 数据源列表自动刷新 ✅

### 2. 数据粘贴 Toast 测试
- [ ] 粘贴 CSV 数据并解析
- [ ] 看到"解析成功：X 行 Y 列" Toast ✅
- [ ] 保存到数据库
- [ ] 看到"数据已保存到表 {表名}" Toast ✅

### 3. 错误处理 Toast 测试
- [ ] 粘贴格式错误的数据
- [ ] 看到红色错误 Toast ✅
- [ ] 错误消息清晰明确 ✅

---

## 🎯 Toast 通知检查（2分钟）

### Toast 显示位置
- [ ] Toast 在屏幕右上角 ✅
- [ ] 不遮挡重要内容 ✅

### Toast 颜色
- [ ] 成功 = 绿色 ✅
- [ ] 错误 = 红色 ✅
- [ ] 警告 = 橙色 ✅

### Toast 行为
- [ ] 3-5秒后自动消失 ✅
- [ ] 可以手动关闭 ✅

---

## 🔍 关键修复验证（3分钟）

### DataPasteCard Toast
- [ ] 解析成功有 Toast ✅
- [ ] 解析失败有 Toast ✅
- [ ] 保存成功有 Toast ✅
- [ ] 保存失败有 Toast ✅

### UploadPanel Toast
- [ ] 上传成功有 Toast ✅
- [ ] 上传失败有 Toast ✅

### DatabaseForm Toast
- [ ] 连接成功有 Toast ✅
- [ ] 连接失败有 Toast ✅

---

## 📊 测试数据

### CSV 测试数据
```csv
name,age,city
Alice,25,New York
Bob,30,London
Charlie,35,Tokyo
```

### JSON 测试数据
```json
[
  {"name": "Alice", "age": 25},
  {"name": "Bob", "age": 30}
]
```

### 错误数据（用于测试错误处理）
```
这是一些格式错误的数据
没有明确的分隔符
也不是有效的 JSON
```

---

## ✅ 测试通过标准

**必须全部通过**:
- ✅ 所有操作都有 Toast 通知
- ✅ Toast 颜色正确
- ✅ Toast 消息清晰
- ✅ 数据源列表自动刷新

**如果有任何一项失败，请报告问题！**

---

## 🐛 快速问题排查

### Toast 不显示？
1. 检查浏览器 Console 是否有错误
2. 检查 `showNotification` 是否传递
3. 检查 `notify` 函数是否被调用

### 列表不刷新？
1. 检查 `triggerRefresh` 是否被调用
2. 检查 Network 标签的 API 请求
3. 检查后端是否正常运行

### 样式问题？
1. 检查 Tailwind CSS 是否加载
2. 清除浏览器缓存
3. 重新构建前端

---

## 📝 测试结果

**测试日期**: ___________  
**测试人**: ___________  
**结果**: ☐ 通过 ☐ 失败

**备注**:
___________________________________________
___________________________________________
___________________________________________

---

## 🎉 测试完成！

如果所有测试通过，恭喜！新 UI 的数据源管理功能已经完全就绪！🚀
